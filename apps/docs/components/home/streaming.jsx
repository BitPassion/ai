import { useRef, useEffect } from 'react'

export function Path({ index, ...props }) {
  const ref = useRef()
  useEffect(() => {
    const interval = setInterval(() => {
      if (ref.current) {
        ref.current.style.strokeDashoffset = '200'
        ref.current.style.animation = `dash-exit 1s ease forwards`
        setTimeout(() => {
          if (ref.current) {
            ref.current.style.removeProperty('stroke-dashoffset')
            ref.current.style.animation = `dash 1s ease ${
              index * 0.8
            }s forwards`
          }
        }, 1500)
      }
    }, 4000)
    return () => clearInterval(interval)
  }, [])
  return (
    <path
      ref={ref}
      {...props}
      style={{
        animation: `dash 1s ease ${index * 0.8}s forwards`
      }}
    />
  )
}

export function Streaming() {
  return (
    <div className="h-52 w-full flex items-center justify-center select-none group">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        className="w-full h-full"
        fill="none"
        viewBox="0 0 337 188"
        style={{
          '-webkit-mask-image':
            'linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1) 20%, rgba(0,0,0,1) 80%, rgba(0,0,0,0))'
        }}
      >
        <mask
          id="mask0_113_97"
          style={{ maskType: 'alpha' }}
          width="337"
          height="188"
          x="0"
          y="0"
          maskUnits="userSpaceOnUse"
        >
          <path fill="#000" d="M0 0H337V188H0z"></path>
        </mask>
        <defs>
          <linearGradient id="pulse-gradient" x1="2" x2="0" y1="0" y2="1">
            <stop offset="0%" stopColor="rgba(0,122,255,0)" />
            <stop offset="100%" stopColor="#007aff" />
          </linearGradient>
        </defs>
        <g mask="url(#mask0_113_97)" className="stroke-black dark:stroke-white">
          <Path
            index={1}
            d="M153 75L153 141 M0 0"
            strokeWidth="1.5"
            stroke="url(#pulse-gradient)"
            className="path-enter"
            pathLength="100"
          />
          <Path
            index={0}
            d="M169 -2.5L169 41.5C169 42.6046 168.105 43.5 167 43.5L155 43.5C153.895 43.5 153 44.3954 153 45.5L153 76"
            strokeWidth="1.5"
            stroke="url(#pulse-gradient)"
            className="path-enter"
            pathLength="100"
          />
          <Path
            index={1}
            d="M153.57 75.5L122.857 75.5C121.752 75.5 120.857 74.6046 120.857 73.5V61.5C120.857 60.3954 119.961 59.5 118.857 59.5H104.5"
            strokeWidth="1.5"
            stroke="url(#pulse-gradient)"
            className="path-enter"
            pathLength="100"
          />
          <Path
            index={1}
            d="M153.567 75.5L122.856 75.5C121.751 75.5 120.856 76.3954 120.856 77.5V89.5C120.856 90.6046 119.96 91.5 118.856 91.5H104.5"
            strokeWidth="1.5"
            stroke="url(#pulse-gradient)"
            className="path-enter"
            pathLength="100"
          />
          <g strokeDasharray="1 1" opacity="0.08">
            <path d="M-19 11.5h392M-19 27.5h392M-19 43.5h392M-19 59.5h392M-19 75.5h392M-19 91.5h392M-19 107.5h392M-19 123.5h392M-19 139.5h392M-19 155.5h392M-19 171.5h392M-19 187.5h392M9-20v256M25-20v256M41-20v256M57-20v256M73-20v256M89-20v256M105-20v256M121-20v256M137-20v256M153-20v256M169-20v256M185-20v256M201-20v256M217-20v256M233-20v256M249-20v256M265-20v256M281-20v256M297-20v256M313-20v256M329-20v256"></path>
          </g>
        </g>
        <circle
          cx="89"
          cy="92"
          r="10"
          className="fill-white dark:hidden"
        ></circle>
        <path
          className="stroke-black dark:stroke-neutral-200"
          strokeLinecap="round"
          strokeLinejoin="round"
          strokeWidth="1.2"
          d="M85.727 93.136v1.637M87.91 91.5v3.273m2.182-4.91v4.91m2.182-6.546v6.546M84.636 97.5h8.728A1.636 1.636 0 0095 95.864v-8.728a1.636 1.636 0 00-1.636-1.636h-8.728A1.636 1.636 0 0083 87.136v8.728a1.636 1.636 0 001.636 1.636z"
        ></path>
        <circle
          cx="105"
          cy="91.5"
          r="3"
          fill="#007aff"
          className="animate-ping origin-center"
        />
        <circle
          cx="105"
          cy="91.5"
          r="3"
          className="fill-blue-500 group-hover:fill-green-500 group-hover:scale-125 origin-center transition-all duration-300"
        ></circle>
        <circle
          cx="89"
          cy="59"
          r="10"
          className="fill-white dark:hidden"
        ></circle>
        <path
          className="stroke-black dark:stroke-neutral-200"
          strokeLinecap="round"
          strokeLinejoin="round"
          strokeWidth="1.2"
          d="M94.063 54.75c0 1.519-2.365 2.75-5.282 2.75-2.916 0-5.281-1.231-5.281-2.75m10.563 0c0-1.519-2.365-2.75-5.282-2.75-2.916 0-5.281 1.231-5.281 2.75m10.563 0v7.5c0 1.519-2.365 2.75-5.282 2.75-2.916 0-5.281-1.231-5.281-2.75v-7.5m10.563 0v2.5M83.5 54.75v2.5m10.563 0v2.5c0 1.519-2.365 2.75-5.282 2.75-2.916 0-5.281-1.231-5.281-2.75v-2.5m10.563 0c0 1.519-2.365 2.75-5.282 2.75-2.916 0-5.281-1.231-5.281-2.75"
        ></path>
        <circle
          cx="105"
          cy="59.5"
          r="3"
          fill="#007aff"
          className="animate-ping origin-center"
        />
        <circle
          cx="105"
          cy="59.5"
          r="3"
          className="fill-blue-500 group-hover:fill-green-500 group-hover:scale-125 origin-center transition-all duration-300"
        ></circle>
        <circle
          cx="153"
          cy="75.5"
          r="3"
          fill="#007aff"
          className="animate-ping origin-center"
        />
        <circle
          cx="153"
          cy="75.5"
          r="3"
          className="fill-blue-500 group-hover:fill-green-500 group-hover:scale-125 origin-center transition-all duration-300"
        ></circle>
        <path
          fill="#1C1C1C"
          className="dark:fill-neutral-300"
          d="M161.858 81.018l3.619-9.878h1.265l-3.619 9.878h-1.265zm10.963-1.518c-.345 0-.613-.084-.803-.253-.184-.176-.294-.418-.33-.726h-.055a1.443 1.443 0 01-.605.825c-.301.19-.671.286-1.111.286-.572 0-1.027-.15-1.364-.451-.338-.3-.506-.719-.506-1.254 0-1.144.839-1.716 2.519-1.716h1.001v-.374c0-.36-.088-.63-.264-.814-.176-.183-.462-.275-.858-.275-.36 0-.649.07-.869.209a1.96 1.96 0 00-.561.539l-.803-.682c.176-.315.458-.58.847-.792.396-.22.905-.33 1.529-.33.748 0 1.331.176 1.749.528.425.345.638.862.638 1.551v2.673h.671V79.5h-.825zm-2.431-.836c.337 0 .616-.077.836-.231a.758.758 0 00.341-.649v-.759h-.968c-.77 0-1.155.242-1.155.726v.22c0 .227.084.4.253.517.168.117.399.176.693.176zm4.23-4.84h1.408v1.001h.077c.154-.345.363-.62.627-.825.272-.205.627-.308 1.067-.308.323 0 .616.062.88.187.272.117.503.3.693.55.191.242.338.55.44.924.103.374.154.81.154 1.309 0 .499-.051.935-.154 1.309a2.681 2.681 0 01-.44.935c-.19.242-.421.425-.693.55a2.143 2.143 0 01-.88.176c-.44 0-.795-.103-1.067-.308a2.112 2.112 0 01-.627-.825h-.077V81.7h-1.408v-7.876zm2.585 4.686c.411 0 .726-.125.946-.374.228-.25.341-.59.341-1.023v-.902c0-.433-.113-.774-.341-1.023-.22-.25-.535-.374-.946-.374-.322 0-.601.08-.836.242-.227.154-.341.392-.341.715v1.782c0 .323.114.565.341.726.235.154.514.231.836.231zm6.739-5.566c-.33 0-.565-.07-.704-.209a.709.709 0 01-.198-.506v-.264c0-.198.066-.367.198-.506.139-.14.374-.209.704-.209.33 0 .561.07.693.209a.69.69 0 01.209.506v.264a.69.69 0 01-.209.506c-.132.14-.363.209-.693.209zm-2.574 5.445h1.87v-3.454h-1.87v-1.111h3.278v4.565h1.738V79.5h-5.016v-1.111zm6.211 2.629l3.619-9.878h1.265l-3.619 9.878h-1.265zm9.093-1.386c-.433 0-.822-.07-1.166-.209a2.454 2.454 0 01-.88-.594 2.738 2.738 0 01-.55-.935 3.803 3.803 0 01-.187-1.232c0-.455.062-.865.187-1.232.132-.367.315-.678.55-.935.242-.257.531-.455.869-.594.344-.14.733-.209 1.166-.209.601 0 1.085.125 1.452.374.366.25.645.58.836.99l-1.089.594a1.425 1.425 0 00-.44-.583c-.184-.154-.437-.231-.759-.231-.418 0-.741.121-.968.363-.22.242-.33.572-.33.99v.946c0 .41.11.74.33.99.227.242.557.363.99.363.337 0 .605-.077.803-.231.205-.154.37-.36.495-.616l1.056.627a2.409 2.409 0 01-.869.99c-.382.25-.88.374-1.496.374zm6.21 0c-.432 0-.821-.07-1.166-.209a2.482 2.482 0 01-.869-.594 2.754 2.754 0 01-.55-.935 3.83 3.83 0 01-.187-1.232c0-.455.063-.865.187-1.232.132-.367.316-.678.55-.935.242-.257.532-.455.869-.594.345-.14.734-.209 1.166-.209.426 0 .811.07 1.155.209.345.14.635.337.869.594.242.257.426.568.55.935.132.367.198.777.198 1.232 0 .455-.066.865-.198 1.232a2.519 2.519 0 01-.55.935 2.344 2.344 0 01-.869.594c-.344.14-.729.209-1.155.209zm0-1.078c.404 0 .723-.121.957-.363.235-.25.352-.612.352-1.089v-.88c0-.477-.117-.836-.352-1.078-.234-.25-.553-.374-.957-.374-.403 0-.722.125-.957.374-.234.242-.352.601-.352 1.078v.88c0 .477.118.84.352 1.089.235.242.554.363.957.363zm3.538.946v-5.676h1.166v.781h.066a1.84 1.84 0 01.374-.638c.169-.183.403-.275.704-.275.286 0 .513.084.682.253.169.161.279.392.33.693h.055c.095-.257.235-.477.418-.66.191-.19.458-.286.803-.286.418 0 .719.15.902.451.183.3.275.744.275 1.331V79.5h-1.155v-3.861c0-.33-.048-.561-.143-.693-.088-.132-.224-.198-.407-.198a.603.603 0 00-.429.165c-.11.11-.165.279-.165.506V79.5h-1.166v-3.861c0-.33-.044-.561-.132-.693-.088-.132-.224-.198-.407-.198a.618.618 0 00-.44.165c-.11.11-.165.279-.165.506V79.5h-1.166zm6.783-5.676h1.408v1.001h.077c.154-.345.363-.62.627-.825.271-.205.627-.308 1.067-.308.322 0 .616.062.88.187.271.117.502.3.693.55.19.242.337.55.44.924a5 5 0 01.154 1.309 5 5 0 01-.154 1.309c-.103.374-.25.686-.44.935a1.869 1.869 0 01-.693.55 2.146 2.146 0 01-.88.176c-.44 0-.796-.103-1.067-.308a2.112 2.112 0 01-.627-.825h-.077V81.7h-1.408v-7.876zm2.585 4.686c.41 0 .726-.125.946-.374.227-.25.341-.59.341-1.023v-.902c0-.433-.114-.774-.341-1.023-.22-.25-.536-.374-.946-.374-.323 0-.602.08-.836.242-.228.154-.341.392-.341.715v1.782c0 .323.113.565.341.726.234.154.513.231.836.231zm3.878-.121h1.804v-5.918h-1.804V71.36h3.212v7.029h1.815V79.5h-5.027v-1.111zm9.071 1.243c-.455 0-.858-.07-1.21-.209a2.438 2.438 0 01-.891-.594 2.626 2.626 0 01-.539-.924 3.803 3.803 0 01-.187-1.232c0-.462.062-.876.187-1.243.132-.367.315-.678.55-.935.235-.257.517-.455.847-.594.337-.14.715-.209 1.133-.209.411 0 .781.07 1.111.209.33.132.609.323.836.572.235.25.414.55.539.902.125.352.187.74.187 1.166v.462h-3.982v.143c0 .41.128.744.385 1.001.257.25.616.374 1.078.374.352 0 .653-.07.902-.209.257-.147.469-.337.638-.572l.803.803c-.205.3-.506.557-.902.77-.389.213-.884.319-1.485.319zm-.099-4.906c-.396 0-.715.125-.957.374-.242.25-.363.58-.363.99v.077h2.574v-.099c0-.41-.114-.737-.341-.979-.22-.242-.524-.363-.913-.363zm6.783 4.774c-.543 0-.943-.143-1.199-.429-.257-.286-.385-.656-.385-1.111v-3.025h-1.65v-1.111h1.122c.227 0 .388-.044.484-.132.095-.095.143-.26.143-.495v-1.375h1.309v2.002h2.31v1.111h-2.31v3.454h2.31V79.5h-2.134zm6.397-6.556c-.33 0-.564-.07-.704-.209a.709.709 0 01-.198-.506v-.264c0-.198.066-.367.198-.506.14-.14.374-.209.704-.209.33 0 .561.07.693.209.14.14.209.308.209.506v.264a.687.687 0 01-.209.506c-.132.14-.363.209-.693.209zm-2.574 5.445h1.87v-3.454h-1.87v-1.111h3.278v4.565h1.738V79.5h-5.016v-1.111zm8.653 1.243c-.433 0-.821-.07-1.166-.209a2.482 2.482 0 01-.869-.594 2.738 2.738 0 01-.55-.935 3.803 3.803 0 01-.187-1.232c0-.455.062-.865.187-1.232.132-.367.315-.678.55-.935.242-.257.532-.455.869-.594.345-.14.733-.209 1.166-.209.425 0 .81.07 1.155.209.345.14.634.337.869.594.242.257.425.568.55.935.132.367.198.777.198 1.232 0 .455-.066.865-.198 1.232a2.532 2.532 0 01-.55.935 2.352 2.352 0 01-.869.594 3.06 3.06 0 01-1.155.209zm0-1.078c.403 0 .722-.121.957-.363.235-.25.352-.612.352-1.089v-.88c0-.477-.117-.836-.352-1.078-.235-.25-.554-.374-.957-.374-.403 0-.722.125-.957.374-.235.242-.352.601-.352 1.078v.88c0 .477.117.84.352 1.089.235.242.554.363.957.363zm3.956.946v-5.676h1.408v1.001h.055c.125-.308.315-.572.572-.792.264-.227.627-.341 1.089-.341.557 0 1.008.187 1.353.561.352.367.528.895.528 1.584V79.5h-1.408v-3.465c0-.821-.356-1.232-1.067-1.232-.147 0-.286.018-.418.055a1.112 1.112 0 00-.363.176.904.904 0 00-.253.275.827.827 0 00-.088.396V79.5h-1.408z"
        ></path>
        <mask
          id="mask1_113_97"
          style={{ maskType: 'alpha' }}
          width="337"
          height="188"
          x="0"
          y="0"
          maskUnits="userSpaceOnUse"
        >
          <path fill="url(#paint0_radial_113_97)" d="M0 0H337V188H0z"></path>
        </mask>
        <g mask="url(#mask1_113_97)">
          <circle
            cx="168.5"
            cy="629.5"
            r="491.5"
            fill="#F2F2F2"
            className="dark:fill-neutral-900"
          ></circle>
          <circle
            cx="168.5"
            cy="629.5"
            r="491"
            stroke="#000"
            className="dark:stroke-neutral-200"
            strokeOpacity="0.1"
          ></circle>
        </g>
        <defs>
          <radialGradient
            id="paint0_radial_113_97"
            cx="0"
            cy="0"
            r="1"
            gradientTransform="matrix(0 94 -168.5 0 168.5 94)"
            gradientUnits="userSpaceOnUse"
          >
            <stop offset="0.761"></stop>
            <stop offset="1" stopOpacity="0"></stop>
          </radialGradient>
        </defs>
      </svg>
    </div>
  )
}
